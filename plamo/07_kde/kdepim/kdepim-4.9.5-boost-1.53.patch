diff -uprN kdepim-4.9.5/kleopatra/CMakeLists.txt kdepim-4.9.5.patched/kleopatra/CMakeLists.txt
--- kdepim-4.9.5/kleopatra/CMakeLists.txt	2012-11-30 16:38:45.000000000 +0900
+++ kdepim-4.9.5.patched/kleopatra/CMakeLists.txt	2013-04-13 10:17:18.000000000 +0900
@@ -365,7 +365,7 @@ else(KDEPIM_MOBILE_UI)
 endif(KDEPIM_MOBILE_UI)
 
 add_definitions ( -DKDE_DEFAULT_DEBUG_AREA=5151 )
-
+add_definitions ( -DBOOST_TT_HAS_OPERATOR_HPP_INCLUDED )
 
 kde4_add_app_icon(_kleopatra_mainwindow_SRCS "hi*-app-kleopatra.png")
 kde4_add_executable(kleopatra_bin ${_kleopatra_SRCS} ${_kleopatra_mainwindow_SRCS} ${_kleopatra_uiserver_SRCS} ${_kleopatra_libkdepim_SRCS} )
diff -uprN kdepim-4.9.5/kleopatra/models/keylistmodel.cpp kdepim-4.9.5.patched/kleopatra/models/keylistmodel.cpp
--- kdepim-4.9.5/kleopatra/models/keylistmodel.cpp	2012-11-30 16:38:44.000000000 +0900
+++ kdepim-4.9.5.patched/kleopatra/models/keylistmodel.cpp	2013-04-13 10:07:13.000000000 +0900
@@ -64,6 +64,7 @@
 
 #ifndef Q_MOC_RUN // QTBUG-22829
 #include <boost/graph/topological_sort.hpp>
+#include <boost/graph/adjacency_list.hpp>
 #endif
 
 #include <algorithm>
diff -uprN kdepim-4.9.5/kleopatra/uiserver/assuanserverconnection.cpp kdepim-4.9.5.patched/kleopatra/uiserver/assuanserverconnection.cpp
--- kdepim-4.9.5/kleopatra/uiserver/assuanserverconnection.cpp	2012-11-30 16:38:44.000000000 +0900
+++ kdepim-4.9.5.patched/kleopatra/uiserver/assuanserverconnection.cpp	2013-04-13 11:04:11.000000000 +0900
@@ -78,6 +78,7 @@
 
 #include <kleo-assuan.h>
 
+#ifndef Q_MOC_RUN // QTBUG-22829
 #include <boost/type_traits/remove_pointer.hpp>
 #ifndef _WIN32_WCE
 #include <boost/lexical_cast.hpp>
@@ -85,6 +86,7 @@
 #include <boost/bind.hpp>
 #include <boost/mem_fn.hpp>
 #include <boost/mpl/if.hpp>
+#endif
 
 #include <vector>
 #include <map>
